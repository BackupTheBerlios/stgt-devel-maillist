<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] Open connections
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20Open%20connections&In-Reply-To=%3C55807.196.40.47.66.1207667576.squirrel%40webmail.decarpentier.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001511.html">
   <LINK REL="Next"  HREF="001515.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] Open connections</H1>
    <B>Niels de Carpentier</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20Open%20connections&In-Reply-To=%3C55807.196.40.47.66.1207667576.squirrel%40webmail.decarpentier.com%3E"
       TITLE="[Stgt-devel] Open connections">stgt at decarpentier.com
       </A><BR>
    <I>Tue Apr  8 17:12:56 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001511.html">[Stgt-devel] Open connections
</A></li>
        <LI>Next message: <A HREF="001515.html">[Stgt-devel] Open connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1513">[ date ]</a>
              <a href="thread.html#1513">[ thread ]</a>
              <a href="subject.html#1513">[ subject ]</a>
              <a href="author.html#1513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> FUJITA Tomonori schrieb:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hmm, that's bad. At least, before apllying this patch, it worked
</I>&gt;&gt;<i> better (though we had the open connection problem), right?
</I>&gt;<i>
</I>&gt;<i> That's more problematic.
</I>&gt;<i> The last version I used was the one found in
</I>&gt;<i> <A HREF="http://stgt.berlios.de/releases/">http://stgt.berlios.de/releases/</A> - I had rather unpleasant experiences
</I>&gt;<i> with using development versions of other Linux iSCSI targets, so I
</I>&gt;<i> decided to stick with at least semi-stable tar.bz2 package.
</I>&gt;<i>
</I>&gt;<i> As I had the same problem with open connections when initiator was
</I>&gt;<i> restarted, I though I'd give development version of tgt a try.
</I>&gt;<i>
</I>&gt;<i> It mostly solves my problem, but sometimes the connection dies
</I>&gt;<i> (connection times out, remount ro etc.) after restarting.
</I>
Restarting the initiator or the target? If you restart the target while
there are initiators connected, you need the offline patch as well (This
patch was posted to the list, but not merged). This will allow you to put
the target offline while you configure it, and put it online again when it
has been configured.
&gt;<i>
</I>&gt;<i> Other problem I had with today's git is that tgtd &quot;hangs&quot;, i.e., the
</I>&gt;<i> process still exists, but:
</I>
There should be 2 processes, probably 1 died? I've had this happen during
a initiator reconnect while the target was being configured. Putting the
target offline during configuration has solved all these issues for me.

Niels



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001511.html">[Stgt-devel] Open connections
</A></li>
	<LI>Next message: <A HREF="001515.html">[Stgt-devel] Open connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1513">[ date ]</a>
              <a href="thread.html#1513">[ thread ]</a>
              <a href="subject.html#1513">[ subject ]</a>
              <a href="author.html#1513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
