<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] dd fails with iSER
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20dd%20fails%20with%20iSER&In-Reply-To=%3C20070807224248.GB31979%40osc.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000927.html">
   <LINK REL="Next"  HREF="000931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] dd fails with iSER</H1>
    <B>Pete Wyckoff</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20dd%20fails%20with%20iSER&In-Reply-To=%3C20070807224248.GB31979%40osc.edu%3E"
       TITLE="[Stgt-devel] dd fails with iSER">pw at osc.edu
       </A><BR>
    <I>Wed Aug  8 00:42:48 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000927.html">[Stgt-devel] dd fails with iSER
</A></li>
        <LI>Next message: <A HREF="000931.html">[Stgt-devel] dd fails with iSER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#930">[ date ]</a>
              <a href="thread.html#930">[ thread ]</a>
              <a href="subject.html#930">[ subject ]</a>
              <a href="author.html#930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">erezz at voltaire.com</A> wrote on Tue, 07 Aug 2007 12:21 +0300:
&gt;<i> I was able to setup stgt with iSER support. However, when I try to run a
</I>&gt;<i> simple sgp_dd (or dd) command, I get SCSI errors on the initiator side:
</I>&gt;<i> 
</I>&gt;<i> writing blk=256: Host_status=0x02 [DID_BUS_BUSY]
</I>&gt;<i> error finishing sg out command
</I>&gt;<i> 
</I>&gt;<i> If I connect to the target over TCP, everything works ok. Also, if I
</I>&gt;<i> connect to our iSCSI over iSER target (not stgt), it also works ok with
</I>&gt;<i> iSER.
</I>&gt;<i> 
</I>&gt;<i> Is there any required patch for iSER/open-iscsi on the initiator side?
</I>&gt;<i> Is there any debug info that I can see on the target side?
</I>
Interesting.  I tend to use the bsg interface here for testing, and
may not have gone through all the paths in sg or sd.  Thanks for
testing!

I do have one initiator side patch for iser that I believe is just
to support bidirectional commands.  I'll try some dd without it to
see if it matters (on Thursday).  Can you send some of the exact
command lines that fail?

To debug the target, run as &quot;tgtd -d 9&quot; and it will produce lots of
messages to syslog.  We use a local patch here to send the messages
to stderr instead, but I think syslog should work for you.  If you
send the interesting parts from the log, I can help decipher the
messages.

		-- Pete

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000927.html">[Stgt-devel] dd fails with iSER
</A></li>
	<LI>Next message: <A HREF="000931.html">[Stgt-devel] dd fails with iSER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#930">[ date ]</a>
              <a href="thread.html#930">[ thread ]</a>
              <a href="subject.html#930">[ subject ]</a>
              <a href="author.html#930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
