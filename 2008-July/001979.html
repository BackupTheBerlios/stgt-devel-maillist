<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] oom_adjust file
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20oom_adjust%20file&In-Reply-To=%3C48904510.1000202%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001978.html">
   <LINK REL="Next"  HREF="001980.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] oom_adjust file</H1>
    <B>Mark Harvey</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20oom_adjust%20file&In-Reply-To=%3C48904510.1000202%40gmail.com%3E"
       TITLE="[Stgt-devel] oom_adjust file">markh794 at gmail.com
       </A><BR>
    <I>Wed Jul 30 12:40:16 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001978.html">[Stgt-devel] oom_adjust file
</A></li>
        <LI>Next message: <A HREF="001980.html">[Stgt-devel] [PATCH] improved delete option for removing targets in	tgt-admin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1979">[ date ]</a>
              <a href="thread.html#1979">[ thread ]</a>
              <a href="subject.html#1979">[ subject ]</a>
              <a href="author.html#1979">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is most likely due to the kernel release you have does not support oom_adj (out of memory adjust)...

The 'readme' with scsi target code indicates you should be running at least 2.6.20 (or there abouts).

However, just remove (or edit the file where oom_adj is called from) to return a success (tgtd.c).

It is just a method used to adjust the kernel's out-of-memory behaviour. As long as you have enough virtual memory, this is not required - just one of those 'nice to have' features.

Cheers
Mark

aniket agashe wrote:
&gt;<i> 
</I>&gt;<i> hi!!!!!!!!!!!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> i m having problem in installing 
</I>&gt;<i> scsi-target-utils-0.1-20080629.x86_64.rpm as failed dependencies 
</I>&gt;<i> libcrypto.so.6(64 bit) required.
</I>&gt;<i> So i tried to use tgt-20080715.tar file i  compiled it with option
</I>&gt;<i> make ISCSI=1 ISCSI_RDMA=1
</I>&gt;<i> and tried to run it with
</I>&gt;<i> ./tgtd -d 9 -f
</I>&gt;<i> 
</I>&gt;<i> getting output as:
</I>&gt;<i> 
</I>&gt;<i> --&gt;can't adjust oom-killer's pardon /proc/5727/oom_adj, No such file or 
</I>&gt;<i> directory
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> file /proc/sys/vm/oom-kill contains 1 i.e. oom killer is enabled but 
</I>&gt;<i> oom_adjust file is not created during run of a tgtd(daemon).
</I>&gt;<i> 
</I>&gt;<i> what factor manages the file created under /proc/&lt;pid&gt;/ ?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> i hv currently RHEL4-U4-x86_64 WS installed on my machine
</I>&gt;<i> 
</I>&gt;<i> please help me out
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Stgt-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">Stgt-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">https://lists.berlios.de/mailman/listinfo/stgt-devel</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001978.html">[Stgt-devel] oom_adjust file
</A></li>
	<LI>Next message: <A HREF="001980.html">[Stgt-devel] [PATCH] improved delete option for removing targets in	tgt-admin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1979">[ date ]</a>
              <a href="thread.html#1979">[ thread ]</a>
              <a href="subject.html#1979">[ subject ]</a>
              <a href="author.html#1979">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
