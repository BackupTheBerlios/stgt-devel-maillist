<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] I have found a small problem in the MMC code ...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20I%20have%20found%20a%20small%20problem%20in%20the%20MMC%20code%20...&In-Reply-To=%3C46b8a8850807281416h1244ab86ofb5ffc064b9c6ec2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001930.html">
   <LINK REL="Next"  HREF="001937.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] I have found a small problem in the MMC code ...</H1>
    <B>Richard Sharpe</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20I%20have%20found%20a%20small%20problem%20in%20the%20MMC%20code%20...&In-Reply-To=%3C46b8a8850807281416h1244ab86ofb5ffc064b9c6ec2%40mail.gmail.com%3E"
       TITLE="[Stgt-devel] I have found a small problem in the MMC code ...">realrichardsharpe at gmail.com
       </A><BR>
    <I>Mon Jul 28 23:16:29 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001930.html">[Stgt-devel] Barcode in extended attributes
</A></li>
        <LI>Next message: <A HREF="001937.html">[Stgt-devel] I have found a small problem in the MMC code ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1932">[ date ]</a>
              <a href="thread.html#1932">[ thread ]</a>
              <a href="subject.html#1932">[ subject ]</a>
              <a href="author.html#1932">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have found what I think is a small problem in the MMC code, although
I am not sure.

I am trying to use cdrecord to write to a DVD Jukebox I have set up
following Ronnie's example and my code changes.

When the client asks for the TOC, it seems to give us too small an
allocation length (four bytes) and of course, we give it back only
what is asked for ... it looks like maybe cdrecord is doing this,
because the Linux kernel seems to offer a buffer of 12 (at least that
is what the code says).

In any event, this causes the first write that CD record requests to
return a CHECK_CONDITION. cdrecord then recovers and the writing of my
8GB DVD :-) completes ...

I will have to check the specs carefully, but I wonder if we should be
returning CHECK_CONDITION as the response to the request for the
request to read the TOC/PMA/ATIP or is the client supposed to check
that there was more data than the buffer could hold and then reissue
the command?

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001930.html">[Stgt-devel] Barcode in extended attributes
</A></li>
	<LI>Next message: <A HREF="001937.html">[Stgt-devel] I have found a small problem in the MMC code ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1932">[ date ]</a>
              <a href="thread.html#1932">[ thread ]</a>
              <a href="subject.html#1932">[ subject ]</a>
              <a href="author.html#1932">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
