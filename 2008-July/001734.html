<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] disk kicked out of RAID -&gt; tgtd segmentation fault
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20disk%20kicked%20out%20of%20RAID%20-%3E%20tgtd%20segmentation%20fault&In-Reply-To=%3Cf29db9a80806301634t7e226045yd5a458e37997b531%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001735.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] disk kicked out of RAID -&gt; tgtd segmentation fault</H1>
    <B>Mark Harvey</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20disk%20kicked%20out%20of%20RAID%20-%3E%20tgtd%20segmentation%20fault&In-Reply-To=%3Cf29db9a80806301634t7e226045yd5a458e37997b531%40mail.gmail.com%3E"
       TITLE="[Stgt-devel] disk kicked out of RAID -&gt; tgtd segmentation fault">markh794 at gmail.com
       </A><BR>
    <I>Tue Jul  1 01:34:00 CEST 2008</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001735.html">[Stgt-devel] disk kicked out of RAID -&gt; tgtd segmentation fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1734">[ date ]</a>
              <a href="thread.html#1734">[ thread ]</a>
              <a href="subject.html#1734">[ subject ]</a>
              <a href="author.html#1734">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tomasz,

I've also noticed there is only one tgtd process when running it in
the foreground.

Running in the foreground has been the only way I've been successful
in collecting core files in the past.

I still do not (read: never actually spent time looking) understand
the why/what differences is between foreground and why there is two
processes while in background.

I would have to assume that there is some sort of race condition or
handshake issue between the two processes within your test senerio.

Sorry I can't be of much help.

Cheers
Mark

On Mon, Jun 30, 2008 at 7:00 PM, Tomasz Chmielewski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">mangoo at wpkg.org</A>&gt; wrote:
&gt;<i> Mark Harvey schrieb:
</I>&gt;&gt;<i> My 2c worth.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Try running the tgtd in 'foreground' mode (after setting &quot;ulimit -c
</I>&gt;&gt;<i> unlimited&quot;).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You will then get a core file which should be a little easier to work
</I>&gt;&gt;<i> with (vs gdb on a running tgtd instance).
</I>&gt;&gt;<i> e.g.
</I>&gt;<i>
</I>&gt;<i> It doesn't crash when started in the foreground mode.
</I>&gt;<i>
</I>&gt;<i> Also, when started in the foreground mode, we only have one tgtd
</I>&gt;<i> process, so perhaps this somehow makes the issue harder or impossible to
</I>&gt;<i> reproduce.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Tomasz Chmielewski
</I>&gt;<i> <A HREF="http://wpkg.org">http://wpkg.org</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Stgt-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">Stgt-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">https://lists.berlios.de/mailman/listinfo/stgt-devel</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001735.html">[Stgt-devel] disk kicked out of RAID -&gt; tgtd segmentation fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1734">[ date ]</a>
              <a href="thread.html#1734">[ thread ]</a>
              <a href="subject.html#1734">[ subject ]</a>
              <a href="author.html#1734">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
