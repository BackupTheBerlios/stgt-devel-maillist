<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] Dealing with filemarks in SSC ...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20Dealing%20with%20filemarks%20in%20SSC%20...&In-Reply-To=%3C46b8a8850807301322v2e065a59u9cf67e5aa743dcf3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001981.html">
   <LINK REL="Next"  HREF="001988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] Dealing with filemarks in SSC ...</H1>
    <B>Richard Sharpe</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20Dealing%20with%20filemarks%20in%20SSC%20...&In-Reply-To=%3C46b8a8850807301322v2e065a59u9cf67e5aa743dcf3%40mail.gmail.com%3E"
       TITLE="[Stgt-devel] Dealing with filemarks in SSC ...">realrichardsharpe at gmail.com
       </A><BR>
    <I>Wed Jul 30 22:22:58 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001981.html">[Stgt-devel] [Patch] Small problem in the logging code
</A></li>
        <LI>Next message: <A HREF="001988.html">[Stgt-devel] Dealing with filemarks in SSC ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1986">[ date ]</a>
              <a href="thread.html#1986">[ thread ]</a>
              <a href="subject.html#1986">[ subject ]</a>
              <a href="author.html#1986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have moved closer to properly implementing filemarks (and setmarks)
by thinking through the issues associated with the approach I want to
take.

That is to keep an array of marks (file and set) with offsets into the
backing store file. Whether these are then stored as extended
attributes or as a separate metadata file is an implementation
decision that I am happy with either way.

By the look of things, the cost of detecting a mark on each read op,
at least for fixed block size devices, is a couple of additions and a
comparison in the fast-path (although the code does lots of seeks that
seem unnecessary at the moment as well). I suspect it will amount to
the same for variable block-size devices as well.

Once I have btape tests working correctly I will post a patch for consideration.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001981.html">[Stgt-devel] [Patch] Small problem in the logging code
</A></li>
	<LI>Next message: <A HREF="001988.html">[Stgt-devel] Dealing with filemarks in SSC ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1986">[ date ]</a>
              <a href="thread.html#1986">[ thread ]</a>
              <a href="subject.html#1986">[ subject ]</a>
              <a href="author.html#1986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
