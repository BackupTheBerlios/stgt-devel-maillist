<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] outstanding patches and moving the scsi in stgt
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2005-September/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20outstanding%20patches%20and%20moving%20the%20scsi%20in%20stgt&In-Reply-To=%3C20050905132648A.fujita.tomonori%40lab.ntt.co.jp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000031.html">
   <LINK REL="Next"  HREF="000032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] outstanding patches and moving the scsi in stgt</H1>
    <B>FUJITA Tomonori</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20outstanding%20patches%20and%20moving%20the%20scsi%20in%20stgt&In-Reply-To=%3C20050905132648A.fujita.tomonori%40lab.ntt.co.jp%3E"
       TITLE="[Stgt-devel] outstanding patches and moving the scsi in stgt">fujita.tomonori at lab.ntt.co.jp
       </A><BR>
    <I>Mon Sep  5 06:26:48 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000031.html">[Stgt-devel] outstanding patches and moving the scsi in stgt
</A></li>
        <LI>Next message: <A HREF="000032.html">[Stgt-devel] More threads for device server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>From: FUJITA Tomonori &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">tomof at acm.org</A>&gt;
Subject: Re: [Stgt-devel] outstanding patches and moving the scsi in stgt
Date: Sun, 04 Sep 2005 13:14:02 +0900

&gt;<i> &gt; So I would like to move the stgt core and stgt_vsd/sd scsi code to a
</I>&gt;<i> &gt; type of personality or protocal handling module. This personality
</I>&gt;<i> &gt; module can then be overidden so that a NBD or AOE target driver can
</I>&gt;<i> &gt; use its own personality module. It would basically make stgt a
</I>&gt;<i> &gt; block_target (blk_tgt) framework.
</I>&gt;<i> 
</I>&gt;<i> It sounds good, though I've not read a NBD or AOE target driver (I'll
</I>&gt;<i> see them later).
</I>
I found one AOE server implementation.

<A HREF="http://sourceforge.net/project/showfiles.php?group_id=130453&amp;package_id=143790">http://sourceforge.net/project/showfiles.php?group_id=130453&amp;package_id=143790</A>

It is not for production use. It can handle only a single file. The
configuration is not dynamically changeable.

The code of 659 lines works in user space. The block_target framework
can be very useful for it if we also provide a clean user-space
framework that we talked about in the past, though I'm not sure how
many people want it.


I found a kernel-space NBD server implementation, however, it's too
old (not for 2.6.X).

A user-space NBD server is the code of about 1000 lines. It seems that
the configuration is not dynamically changeable. So the block_target
framework can be very useful again.

<A HREF="http://sourceforge.net/projects/nbd">http://sourceforge.net/projects/nbd</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000031.html">[Stgt-devel] outstanding patches and moving the scsi in stgt
</A></li>
	<LI>Next message: <A HREF="000032.html">[Stgt-devel] More threads for device server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
