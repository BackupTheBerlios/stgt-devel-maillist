<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] Errors in fsck with iSER
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20Errors%20in%20fsck%20with%20iSER&In-Reply-To=%3C20071219094234.GA12187%40lemming.cita.utoronto.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001233.html">
   <LINK REL="Next"  HREF="001220.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] Errors in fsck with iSER</H1>
    <B>Robin Humble</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20Errors%20in%20fsck%20with%20iSER&In-Reply-To=%3C20071219094234.GA12187%40lemming.cita.utoronto.ca%3E"
       TITLE="[Stgt-devel] Errors in fsck with iSER">robin.humble+stgt at anu.edu.au
       </A><BR>
    <I>Wed Dec 19 10:42:34 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001233.html">[Stgt-devel] Errors in fsck with iSER
</A></li>
        <LI>Next message: <A HREF="001220.html">[Stgt-devel] iSER patches, third release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1224">[ date ]</a>
              <a href="thread.html#1224">[ thread ]</a>
              <a href="subject.html#1224">[ subject ]</a>
              <a href="author.html#1224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Dec 18, 2007 at 02:11:24PM +0200, Erez Zilber wrote:
&gt;&gt;&gt;&gt;&gt;<i> We ran some tests on it. Most of them are ok except for fsck. We ran it
</I>&gt;&gt;&gt;&gt;&gt;<i> in the following way:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> seed5:/tmp/regtest # parted -s /dev/sdb mkpart primary 0 8500
</I>&gt;&gt;&gt;&gt;&gt;<i> seed5:/tmp/regtest # for ((i=1;i&lt;=1000;i++)) do mkfs -t ext2 -q
</I>&gt;&gt;&gt;&gt;&gt;<i> /dev/sdb1; fsck -y -ft ext2 /dev/sdb1; echo iteration $i is done; done
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> fsck is ok most of the time, but once in a while it looks like this
</I>&gt;&gt;&gt;&gt;&gt;<i> (after ~300 iterations):
</I>&gt;<i>
</I>&gt;<i>Yes, I still see the same bad behavior with iSER. Pete &amp; Robin - can you
</I>&gt;<i>try to run the same test (see above) with iSER and see if you get the
</I>&gt;<i>same behavior?
</I>
I ran the script over iSER to backing stores of 8G lustre files and to
a 7G ramdisk and didn't see any problems.

for most of the tests the initiator nodes were run with 8G ram and then
again with 512M ram to try and flush more traffic down the wire.
I tried both osc.edu and mainstream tgtd's. no problems.

cheers,
robin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001233.html">[Stgt-devel] Errors in fsck with iSER
</A></li>
	<LI>Next message: <A HREF="001220.html">[Stgt-devel] iSER patches, third release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1224">[ date ]</a>
              <a href="thread.html#1224">[ thread ]</a>
              <a href="subject.html#1224">[ subject ]</a>
              <a href="author.html#1224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
