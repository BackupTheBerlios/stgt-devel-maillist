<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] [PATCH] Move device type to LUN
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20%5BPATCH%5D%20Move%20device%20type%20to%20LUN&In-Reply-To=%3C20070605133826.GA32456%40pentland.suse.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000755.html">
   <LINK REL="Next"  HREF="000761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] [PATCH] Move device type to LUN</H1>
    <B>Hannes Reinecke</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20%5BPATCH%5D%20Move%20device%20type%20to%20LUN&In-Reply-To=%3C20070605133826.GA32456%40pentland.suse.de%3E"
       TITLE="[Stgt-devel] [PATCH] Move device type to LUN">hare at suse.de
       </A><BR>
    <I>Tue Jun  5 15:38:26 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000755.html">[PATCH] Bind device type to LUN
</A></li>
        <LI>Next message: <A HREF="000761.html">[Stgt-devel] [PATCH] Move device type to LUN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#754">[ date ]</a>
              <a href="thread.html#754">[ thread ]</a>
              <a href="subject.html#754">[ subject ]</a>
              <a href="author.html#754">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I really think it's more reasonable to have the device type
bound to the LUN, not the target. It feels so SPI-ish to
have it bound to the target. And IMHO it really restricts the
flexibility if a target can only support a single device type.

This patch moves the device type down to the LUN structure.
And in doing so we now also have the proper peripheral device
type and peripheral device qualifier attributes for the INQUIRY
data.

Patches are on top of Mark Harvey's latest patchset.

One thing puzzles me, though: do we support commands with no
LUN attached to it? IE is it valid to have 'cmd-&gt;dev == NULL'?
If so: where is the point here? If that's our handling of a
non-existing LUN 0 we should rather add a proper LUN 0 and
treat cmd-&gt;dev == NULL as an error case ...

Comments, etc are welcome.

Cheers,

Hannes
-- 
Dr. Hannes Reinecke		      zSeries &amp; Storage
<A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">hare at suse.de</A>			      +49 911 74053 688
SUSE LINUX Products GmbH, Maxfeldstr. 5, 90409 N&#65533;rnberg
GF: Markus Rex, HRB 16746 (AG N&#65533;rnberg)
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000755.html">[PATCH] Bind device type to LUN
</A></li>
	<LI>Next message: <A HREF="000761.html">[Stgt-devel] [PATCH] Move device type to LUN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#754">[ date ]</a>
              <a href="thread.html#754">[ thread ]</a>
              <a href="subject.html#754">[ subject ]</a>
              <a href="author.html#754">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
