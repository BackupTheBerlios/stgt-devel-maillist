<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] No LUN option in target.c
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20No%20LUN%20option%20in%20target.c&In-Reply-To=%3C20071126224307W.tomof%40acm.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001168.html">
   <LINK REL="Next"  HREF="001170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] No LUN option in target.c</H1>
    <B>FUJITA Tomonori</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20No%20LUN%20option%20in%20target.c&In-Reply-To=%3C20071126224307W.tomof%40acm.org%3E"
       TITLE="[Stgt-devel] No LUN option in target.c">tomof at acm.org
       </A><BR>
    <I>Mon Nov 26 14:40:35 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001168.html">[Stgt-devel] No LUN option in target.c
</A></li>
        <LI>Next message: <A HREF="001170.html">[Stgt-devel] No LUN option in target.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1169">[ date ]</a>
              <a href="thread.html#1169">[ thread ]</a>
              <a href="subject.html#1169">[ subject ]</a>
              <a href="author.html#1169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 26 Nov 2007 13:33:47 +0100
Tomasz Chmielewski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">mangoo at wpkg.org</A>&gt; wrote:

&gt;<i> FUJITA Tomonori schrieb:
</I>&gt;<i> &gt; On Mon, 26 Nov 2007 12:25:19 +0100
</I>&gt;<i> &gt; Albert Pauw &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">albert.pauw at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; 2007/11/26-12:24:19 | STAT  | 3237 | v1.2.8 | /dev/sdb | Total read 
</I>&gt;<i> &gt;&gt; throughput: 827938.1B/s (0.79MB/s), IOPS 25.3/s.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The patch didn't make a difference, sorry.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The performances in the configuration don't matter much, but I just
</I>&gt;<i> &gt; run initiator and target on the same machine:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; sens:/home/fujita# hdparm -t /dev/sdd
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; /dev/sdd:
</I>&gt;<i> &gt;  Timing buffered disk reads:   20 MB in  3.15 seconds =   6.35 MB/sec
</I>&gt;<i> 
</I>&gt;<i> (...)
</I>&gt;<i> 
</I>&gt;<i> &gt; sens:/home/fujita# hdparm -t /dev/sdd
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; /dev/sdd:
</I>&gt;<i> &gt;  Timing buffered disk reads:  410 MB in  3.02 seconds = 135.55 MB/sec
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Seems that haparm isn't an appropriate tool to meature performance but
</I>&gt;<i> &gt; not bad performances.
</I>&gt;<i> 
</I>&gt;<i> It is appropriate, when used appropriately.
</I>
Oops, I'm not talking about only cache.

hdparm seems to issue only one outstanding request, the duration is
too short, etc. It's not designed for performance measurement.


&gt;<i> If a block device is used (mounted, swap, md/dm etc.) it is also cached.
</I>
Block devices always use page cache (unless you access to it via DIO).


BTW, please let me know if you find that tgt's performance is still
terrible as compared with IET.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001168.html">[Stgt-devel] No LUN option in target.c
</A></li>
	<LI>Next message: <A HREF="001170.html">[Stgt-devel] No LUN option in target.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1169">[ date ]</a>
              <a href="thread.html#1169">[ thread ]</a>
              <a href="subject.html#1169">[ subject ]</a>
              <a href="author.html#1169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
