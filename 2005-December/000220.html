<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Ang: Re: [Stgt-devel] Re: [Iscsitarget-devel] stgt a	new	version of iscsi target?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2005-December/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20Ang%3A%20Re%3A%20%5BStgt-devel%5D%20Re%3A%20%5BIscsitarget-devel%5D%20stgt%20a%0A%09new%09version%20of%20iscsi%20target%3F&In-Reply-To=%3C1136043222.3538.5.camel%40mulgrave%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000219.html">
   <LINK REL="Next"  HREF="000166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Ang: Re: [Stgt-devel] Re: [Iscsitarget-devel] stgt a	new	version of iscsi target?</H1>
    <B>James Bottomley</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20Ang%3A%20Re%3A%20%5BStgt-devel%5D%20Re%3A%20%5BIscsitarget-devel%5D%20stgt%20a%0A%09new%09version%20of%20iscsi%20target%3F&In-Reply-To=%3C1136043222.3538.5.camel%40mulgrave%3E"
       TITLE="Ang: Re: [Stgt-devel] Re: [Iscsitarget-devel] stgt a	new	version of iscsi target?">James.Bottomley at SteelEye.com
       </A><BR>
    <I>Sat Dec 31 16:33:42 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000219.html">Ang: Re: [Stgt-devel] Re: [Iscsitarget-devel] stgt a new	version of iscsi target?
</A></li>
        <LI>Next message: <A HREF="000166.html">Ang: Re: [Stgt-devel] Re: [Iscsitarget-devel] stgt a new version of iscsi target?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#220">[ date ]</a>
              <a href="thread.html#220">[ thread ]</a>
              <a href="subject.html#220">[ subject ]</a>
              <a href="author.html#220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2005-12-30 at 21:27 -0600, Mike Christie wrote:
&gt;<i> &gt; Yes, that looks fine ... it runs in user space, which was really all I
</I>&gt;<i> &gt; was looking for.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; There is another half to this, which is that I'd like the tap to come
</I>&gt;<i> &gt; via a SCSI API.  This isn't strictly necessary for iSCSI but it would
</I>&gt;<i> &gt; allow us to integrate a generic target approach that could work for all
</I>&gt;<i> &gt; SCSI HBA's as well as just iSCSI.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> The code we currently have is designed to work with software iscsi 
</I>&gt;<i> targets or software AoE and HW cards like qlogic or emulex's FC cards. 
</I>&gt;<i> There are a lot of places we could use scsi-ml or block layer structs 
</I>&gt;<i> like the request or scsi_cmnd.
</I>&gt;<i> 
</I>&gt;<i> To support HW like qlogic or emulex's FC target mode, are you thinking 
</I>&gt;<i> you might want us to add on to the scsi-ml's scsi_host_template or add a 
</I>&gt;<i> scsi_target_template? If we add on to the scsi_host_template and if that 
</I>&gt;<i> one PCI device would be in initiator and target mode at the same time 
</I>&gt;<i> would we have one scsi_host for that resource and just add our target 
</I>&gt;<i> related fields to the scsi_host? Is this what you mean?
</I>
I'm thinking one device would do both intiator and target (although not
at the same time, but probably via some sort of internal role change
mechanism---Although that would be up to the driver writer; it could
certainly be set up to be initiator or target only) we probably need one
or two additional callbacks for sending incoming commands upwards and a
control channel for specifying what we do next (since for write
commands, we need command first, then userspace processing and setup
then body into allocated buffer).  The idea is that at the end of the
project we have a well defined target infrastructure for any SCSI device
(with an iSCSI reference implementation).

James



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000219.html">Ang: Re: [Stgt-devel] Re: [Iscsitarget-devel] stgt a new	version of iscsi target?
</A></li>
	<LI>Next message: <A HREF="000166.html">Ang: Re: [Stgt-devel] Re: [Iscsitarget-devel] stgt a new version of iscsi target?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#220">[ date ]</a>
              <a href="thread.html#220">[ thread ]</a>
              <a href="subject.html#220">[ subject ]</a>
              <a href="author.html#220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
