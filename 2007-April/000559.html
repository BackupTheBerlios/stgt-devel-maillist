<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Stgt-devel] VTL patch, take 2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/stgt-devel/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20VTL%20patch%2C%20take%202&In-Reply-To=%3C461EAF43.4090005%40torque.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000558.html">
   <LINK REL="Next"  HREF="000560.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Stgt-devel] VTL patch, take 2</H1>
    <B>Douglas Gilbert</B> 
    <A HREF="mailto:stgt-devel%40lists.berlios.de?Subject=Re%3A%20%5BStgt-devel%5D%20VTL%20patch%2C%20take%202&In-Reply-To=%3C461EAF43.4090005%40torque.net%3E"
       TITLE="[Stgt-devel] VTL patch, take 2">dougg at torque.net
       </A><BR>
    <I>Fri Apr 13 00:14:27 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000558.html">[Stgt-devel] VTL patch, take 2
</A></li>
        <LI>Next message: <A HREF="000560.html">[Stgt-devel] VTL patch, take 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#559">[ date ]</a>
              <a href="thread.html#559">[ thread ]</a>
              <a href="subject.html#559">[ subject ]</a>
              <a href="author.html#559">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark Harvey wrote:
&gt;<i> SSC / SMC patches to SCSI Tgt code.
</I>&gt;<i> 
</I>&gt;<i> It is based from git commit :
</I>&gt;<i>   ================================
</I>&gt;<i> commit 47e15c234ca298d31b1709db592eef9db4bce0ca
</I>&gt;<i> Author: Albert Pauw &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">albert.pauw at gmail.com</A>&gt;
</I>&gt;<i> Date:   Sat Apr 7 17:31:54 2007 +0900
</I>&gt;<i> 
</I>&gt;<i>    some shortcut options missing from tgtadm
</I>&gt;<i> 
</I>&gt;<i>    Signed-off-by: Albert Pauw &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/stgt-devel">albert.pauw at gmail.com</A>&gt;
</I>&gt;<i>   ================================
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Additions from last patch include :
</I>&gt;<i> - Updated syntax to add/configure limited set of SMC / SSC parameters
</I>&gt;<i> - Start implementing structures for MODE SELECT / MODE SENSE op codes
</I>&gt;<i> - Start implementing structures for LOG SELECT / LOG SENSE op codes
</I>
It will be interesting to see how you go with MODE SELECT
and LOG SELECT. As far as I can see it requires the SCSI
parser to:
  a) decode the &quot;parameter list length&quot; field in the
     cdb
  b) go away and fetch that much data from the data_out
  c) return to parser and process the parameter list
     together with other fields in the cdb

In the case of the SAS and FCP transports, step b)
probably means going all the way back to the
initiator (low level details: the target sends a XFER_RDY
frame to entice the initiator to send the data_out buffer).
There may be less work involved with iSCSI and SRP.

Folks who want persistent reservations will also want
this problem solved as PERSISTENT RESERVE OUT has the
same structure as MODE SELECT.

Doug Gilbert

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000558.html">[Stgt-devel] VTL patch, take 2
</A></li>
	<LI>Next message: <A HREF="000560.html">[Stgt-devel] VTL patch, take 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#559">[ date ]</a>
              <a href="thread.html#559">[ thread ]</a>
              <a href="subject.html#559">[ subject ]</a>
              <a href="author.html#559">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/stgt-devel">More information about the Stgt-devel
mailing list</a><br>
</body></html>
